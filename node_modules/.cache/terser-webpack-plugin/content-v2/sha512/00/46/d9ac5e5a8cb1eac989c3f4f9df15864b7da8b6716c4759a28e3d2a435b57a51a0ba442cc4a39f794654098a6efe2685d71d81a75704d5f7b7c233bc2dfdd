{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{210:function(t,a,s){\"use strict\";s.r(a);var e=s(0),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"overview\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#overview\"}},[t._v(\"#\")]),t._v(\" Overview\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"基本路径\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#基本路径\"}},[t._v(\"#\")]),t._v(\" 基本路径\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"p\",[s(\"code\",[t._v(\"https://www.yuque.com/api/v2\")])])])]),s(\"blockquote\",[s(\"p\",[t._v(\"如果是获取企业空间下的数据，请用企业的二级域名，例如：\"),s(\"code\",[t._v(\"https://tmall.yuque.com/api/v2\")])])]),t._v(\" \"),s(\"h2\",{attrs:{id:\"http-verbs\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#http-verbs\"}},[t._v(\"#\")]),t._v(\" HTTP Verbs\")]),t._v(\" \"),s(\"table\",{staticClass:\"lake-table\"},[s(\"colgroup\",[s(\"col\",{attrs:{width:\"375\"}}),s(\"col\",{attrs:{width:\"375\"}})]),s(\"tbody\",[s(\"tr\",[s(\"td\",[s(\"p\",[t._v(\"Verb\")])]),s(\"td\",[s(\"p\",[t._v(\"Description\")])])]),s(\"tr\",[s(\"td\",[s(\"p\",[t._v(\"GET\")])]),s(\"td\",[s(\"p\",[t._v(\"用于获取数据\")])])]),s(\"tr\",[s(\"td\",[s(\"p\",[t._v(\"POST\")])]),s(\"td\",[s(\"p\",[t._v(\"用于创建数据\")])])]),s(\"tr\",[s(\"td\",[s(\"p\",[t._v(\"PUT\")])]),s(\"td\",[s(\"p\",[t._v(\"用于修改部分数据，例如一个文档标题，正文\")])])]),s(\"tr\",[s(\"td\",[s(\"p\",[t._v(\"DELETE\")])]),s(\"td\",[s(\"p\",[t._v(\"用于删除数据\")])])])])]),t._v(\" \"),s(\"h2\",{attrs:{id:\"http-提交数据说明\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#http-提交数据说明\"}},[t._v(\"#\")]),t._v(\" HTTP 提交数据说明\")]),t._v(\" \"),s(\"p\",[t._v(\"当 \"),s(\"strong\",[t._v(\"POST\")]),t._v(\", \"),s(\"strong\",[t._v(\"PUT\")]),t._v(\" 请求的时候，请确保 Request Content-Type 是 \"),s(\"code\",[t._v(\"application/json\")]),t._v(\" 类型。\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-json extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[s(\"code\",[t._v(\"req.Headers.Add(\"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"Content-Type\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"application/json\"')]),t._v(\") \\n\")])])]),s(\"h2\",{attrs:{id:\"user-agent-header\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#user-agent-header\"}},[t._v(\"#\")]),t._v(\" User-Agent Header\")]),t._v(\" \"),s(\"p\",[t._v(\"为了确保我们能知道访问者是谁，API 要求必须传递 \"),s(\"code\",[t._v(\"User-Agent\")]),t._v(\" Header，否则将会拒绝请求。\")]),s(\"p\",[t._v(\"例如:\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-go extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-go\"}},[s(\"code\",[t._v(\"req\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"Headers\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"Add\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"User-Agent\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"这里可以填应用名称\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \\n\")])])]),s(\"h2\",{attrs:{id:\"用户认证\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#用户认证\"}},[t._v(\"#\")]),t._v(\" 用户认证\")]),t._v(\" \"),s(\"p\",[t._v(\"语雀 API 目前使用 Token 机制来实现用户认证。\")]),s(\"p\",[t._v(\"你需要在请求的 HTTP Headers 传入 \"),s(\"code\",[t._v(\"X-Auth-Token\")]),t._v(\" 带入用户的 Token 信息，用于认证。\")]),s(\"p\",[t._v(\"获取 Token 可通过点击语雀的个人头像，并进入 \"),s(\"a\",{attrs:{href:\"/settings\",target:\"_blank\"}},[t._v(\"个人设置\")]),t._v(\" 页面拿到，如下图：\")]),s(\"p\",[s(\"img\",{staticStyle:{\"max-width\":\"600px\",width:\"1077px\"},attrs:{alt:\"image.png\",title:\"image.png\",src:\"https://cdn.nlark.com/yuque/0/2019/png/84145/1556263208113-272c18c0-2608-48b5-81b0-141b49ef432f.png#align=left&display=inline&height=370&name=image.png&originHeight=740&originWidth=2154&size=186190&status=done&width=1077\"}})]),s(\"blockquote\",[s(\"p\",[t._v(\"TIP💡: 别忘了，假如需要获取的数据是“公开”的，那是不需要用户认证的哦！\")])]),s(\"p\",[s(\"strong\",[t._v(\"For example\")])]),t._v(\" \"),s(\"div\",{staticClass:\"language-bash extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"curl\")]),t._v(\" -H \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"X-Auth-Token: gCmkIlgAtuc3vFwpLfeM1w==\"')]),t._v(\" https://www.yuque.com/api/v2/hello \\n\")])])]),s(\"p\",[s(\"strong\",[t._v(\"Response\")])]),t._v(\" \"),s(\"div\",{staticClass:\"language-json extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n \"),s(\"span\",{pre:!0,attrs:{class:\"token property\"}},[t._v('\"data\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n   \"),s(\"span\",{pre:!0,attrs:{class:\"token property\"}},[t._v('\"message\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"Hello 小明\"')]),t._v(\"\\n \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \\n\")])])]),s(\"p\",[s(\"code\",[t._v(\"X-Auth-Token\")]),t._v(\" 依据用户有的权限，决定了能获取到的数据，例如，假如 “小明” 这个账号是 “\"),s(\"a\",{attrs:{href:\"/yuque/help\",target:\"_blank\"}},[t._v(\"语雀/帮助\")]),t._v(\"” 这个文档仓库的 \"),s(\"code\",[t._v(\"Owner\")]),t._v(\"，那么通过他的 Token 可以获取到这个仓库的所有信息。\")]),s(\"p\",[t._v(\"其他情况由具体的功能权限设定来决定能获取到什么样的数据，以及那些数据有修改权限，详见后面 API 的具体接口返回的 \"),s(\"code\",[t._v(\"abilities\")]),t._v(\" 描述。\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"http-状态码\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#http-状态码\"}},[t._v(\"#\")]),t._v(\" HTTP 状态码\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"p\",[t._v(\"200 - 成功\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[t._v(\"400 - 请求的参数不正确，或缺少必要信息，请对比文档\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[t._v(\"401 - 需要用户认证的接口用户信息不正确\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[t._v(\"403 - 缺少对应功能的权限\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[t._v(\"404 - 数据不存在，或未开放\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[t._v(\"500 - 服务器异常\")])])]),t._v(\" \"),s(\"h2\",{attrs:{id:\"参数说明\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参数说明\"}},[t._v(\"#\")]),t._v(\" 参数说明\")]),t._v(\" \"),s(\"table\",{staticClass:\"lake-table\"},[s(\"colgroup\",[s(\"col\",{attrs:{width:\"170\"}}),s(\"col\",{attrs:{width:\"248\"}}),s(\"col\",{attrs:{width:\"432\"}})]),s(\"tbody\",[s(\"tr\",[s(\"td\",[s(\"p\",[t._v(\"Name\")])]),s(\"td\",[s(\"p\",[t._v(\"Description\")])]),s(\"td\",[s(\"p\",[t._v(\"Example\")])])]),s(\"tr\",[s(\"td\",[s(\"p\",[t._v(\"id\")])]),s(\"td\",[s(\"p\",[t._v(\"数据的唯一编号/主键\")])]),s(\"td\",[s(\"p\",[t._v(\"1984\")])])]),s(\"tr\",[s(\"td\",[s(\"p\",[t._v(\"login\")])]),s(\"td\",[s(\"p\",[t._v(\"用户／团队的唯一名称\")]),s(\"p\",[t._v(\"用户／团队编号\")])]),s(\"td\",[s(\"p\",[t._v(\"用户：用户个人路径\")]),s(\"p\",[t._v(\"团队：如\"),s(\"a\",{attrs:{href:\"/yuque\",target:\"_blank\"}},[t._v(\"语雀团队\")]),t._v(\"，login 值为 \"),s(\"code\",[t._v(\"yuque\")])])])]),s(\"tr\",[s(\"td\",[s(\"p\",[t._v(\"book_slug\")])]),s(\"td\",[s(\"p\",[t._v(\"仓库唯一名称\")])]),s(\"td\",[s(\"p\",[t._v(\"如\"),s(\"a\",{attrs:{href:\"/yuque/developer\",target:\"_blank\"}},[t._v(\"语雀开发者文档\")]),t._v(\"这个仓库，\"),s(\"code\",[t._v(\"book_slug\")]),t._v(\" 值为 \"),s(\"code\",[t._v(\"developer\")]),s(\"strong\")])])]),s(\"tr\",[s(\"td\",[s(\"p\",[t._v(\"namespace\")])]),s(\"td\",[s(\"p\",[t._v(\"仓库的唯一名称\")]),s(\"p\",[t._v(\"需要组合 \"),s(\"code\",[t._v(\":login/:book_slug\")])]),s(\"p\",[t._v(\"或可以直接使用仓库编号\")])]),s(\"td\",[s(\"p\",[s(\"code\",[t._v(\"yuque/developer\")])])])]),s(\"tr\",[s(\"td\",[s(\"p\",[t._v(\"slug\")])]),s(\"td\",[s(\"p\",[t._v(\"文档唯一名称\")])]),s(\"td\",[s(\"p\",[t._v(\"如\"),s(\"a\",{attrs:{href:\"/yuque/developer/api\",target:\"_blank\"}},[t._v(\"当前这篇文档\")]),t._v(\"的 slug 值为   \"),s(\"code\",[t._v(\"api\")])])])])])]),t._v(\" \"),s(\"h2\",{attrs:{id:\"返回数据格式\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#返回数据格式\"}},[t._v(\"#\")]),t._v(\" 返回数据格式\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"p\",[t._v(\"JSON 格式\")])])]),t._v(\" \"),s(\"div\",{staticClass:\"language-json extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n \"),s(\"span\",{pre:!0,attrs:{class:\"token property\"}},[t._v('\"data\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n   \"),s(\"span\",{pre:!0,attrs:{class:\"token property\"}},[t._v('\"id\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"10\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n   \"),s(\"span\",{pre:!0,attrs:{class:\"token property\"}},[t._v('\"slug\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"weekly\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n   \"),s(\"span\",{pre:!0,attrs:{class:\"token property\"}},[t._v('\"name\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"技术周刊\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n   \"),s(\"span\",{pre:!0,attrs:{class:\"token property\"}},[t._v('\"abilities\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n     \"),s(\"span\",{pre:!0,attrs:{class:\"token property\"}},[t._v('\"update\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n     \"),s(\"span\",{pre:!0,attrs:{class:\"token property\"}},[t._v('\"destroy\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"false\")]),t._v(\"\\n   \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n \"),s(\"span\",{pre:!0,attrs:{class:\"token property\"}},[t._v('\"meta\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n   \"),s(\"span\",{pre:!0,attrs:{class:\"token property\"}},[t._v('\"liked\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n   \"),s(\"span\",{pre:!0,attrs:{class:\"token property\"}},[t._v('\"followed\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \\n\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[t._v(\"id: 每个数据都会有的，Resource 的唯一编号，后续很多地方你可能需要用它查询\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[t._v(\"abilities: 表述当前登陆者对于此资源的权限\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[t._v(\"meta: 一些附加信息，例如是否赞过，是否关注过\")])])]),t._v(\" \"),s(\"h2\",{attrs:{id:\"rate-limit-访问频率限制\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#rate-limit-访问频率限制\"}},[t._v(\"#\")]),t._v(\" Rate Limit 访问频率限制\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"p\",[t._v(\"匿名请求，IP 限制, 200 次/小时\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[t._v(\"传递 Token 的情况下，每个用户（基于 Token 关联到的账户），5000 次/小时；\")])])]),s(\"p\",[t._v(\"每次请求 \"),s(\"code\",[t._v(\"Response Header\")]),t._v(\" 将会返回频率限制的信息，例如：\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-undefined extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"X-RateLimit-Limit: 100\\nX-RateLimit-Remaining: 75 \\n\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[s(\"code\",[t._v(\"X-RateLimit-Limit\")]),t._v(\" - 总次数\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[s(\"code\",[t._v(\"X-RateLimit-Remaining\")]),t._v(\" - 剩余次数\")])])]),s(\"p\",[t._v(\"如果超过限制，将会返回:\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-undefined extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"HTTP/1.1 429 Too Many Requests \\n\")])])]),s(\"h2\",{attrs:{id:\"datetime-格式\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#datetime-格式\"}},[t._v(\"#\")]),t._v(\" DateTime 格式\")]),t._v(\" \"),s(\"p\",[t._v(\"DateTime 使用 \"),s(\"a\",{attrs:{href:\"https://en.wikipedia.org/wiki/ISO_8601\",target:\"_blank\"}},[t._v(\"ISO 8601\")]),t._v(\" 标准格式，请按照标准方式进行转换。\")]),s(\"br\"),s(\"br\"),s(\"a\",{staticClass:\"yuque-link\",attrs:{target:\"_blank\",href:\"https://www.yuque.com/yuque/developer/api\"}},[s(\"svg\",{attrs:{viewBox:\"64 64 896 896\",\"data-icon\":\"yuque\",width:\"1em\",height:\"1em\",fill:\"currentColor\",\"aria-hidden\":\"true\"}},[s(\"path\",{attrs:{d:\"M854.6 370.6c-9.9-39.4 9.9-102.2 73.4-124.4l-67.9-3.6s-25.7-90-143.6-98c-117.8-8.1-194.9-3-195-3 .1 0 87.4 55.6 52.4 154.7-25.6 52.5-65.8 95.6-108.8 144.7-1.3 1.3-2.5 2.6-3.5 3.7C319.4 605 96 860 96 860c245.9 64.4 410.7-6.3 508.2-91.1 20.5-.2 35.9-.3 46.3-.3 135.8 0 250.6-117.6 245.9-248.4-3.2-89.9-31.9-110.2-41.8-149.6zm-204.1 334c-10.6 0-26.2.1-46.8.3l-23.6.2-17.8 15.5c-47.1 41-104.4 71.5-171.4 87.6-52.5 12.6-110 16.2-172.7 9.6 18-20.5 36.5-41.6 55.4-63.1 92-104.6 173.8-197.5 236.9-268.5l1.4-1.4 1.3-1.5c4.1-4.6 20.6-23.3 24.7-28.1 9.7-11.1 17.3-19.9 24.5-28.6 30.7-36.7 52.2-67.8 69-102.2l1.6-3.3 1.2-3.4c13.7-38.8 15.4-76.9 6.2-112.8 22.5.7 46.5 1.9 71.7 3.6 33.3 2.3 55.5 12.9 71.1 29.2 5.8 6 10.2 12.5 13.4 18.7 1 2 1.7 3.6 2.3 5l5 17.7c-15.7 34.5-19.9 73.3-11.4 107.2 3 11.8 6.9 22.4 12.3 34.4 2.1 4.7 9.5 20.1 11 23.3 10.3 22.7 15.4 43 16.7 78.7 3.3 94.6-82.7 181.9-182 181.9z\"}})]),t._v(\" 使用语雀查看\")])])}),[],!1,null,null,null);a.default=r.exports}}]);","extractedComments":[]}