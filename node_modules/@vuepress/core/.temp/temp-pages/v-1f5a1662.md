# Group - 组织 

 

 ## 获取某个用户的加入的组织列表 



 ``` rb 
 GET /users/:login/groups
# 或
GET /users/:id/groups 
 ``` 



 ### Response 

<p>Array<<a href="UserSerializer" target="_blank">UserSerializer</a>></p><p>Example:</p>

 ``` json 
 {
  "data": [
    {
      "id": 3,
      "login": "skylark",
      "name": "云雀",
      "avatar_url": "https:///...jpg",
      "description": "",
      "created_at": "2016-09-06T23:44:00.000Z",
      "updated_at": "2016-09-06T23:44:00.000Z"
    },
    {
      "id": 2,
      "login": "foo",
      "name": "Foo",
      "avatar_url": "https://....jpg",
      "description": "",
      "created_at": "2016-09-06T23:44:00.000Z",
      "updated_at": "2016-09-06T23:44:00.000Z"
    }
  ]
} 
 ``` 



 ## 获取公开组织列表 



 ``` rb 
 GET /groups 
 ``` 



 ### Response 

<p>Array<<a href="UserSerializer" target="_blank">UserSerializer</a>></p><p>Example:</p>

 ``` json 
 {
  "data": [
    {
      "id": 3,
      "login": "skylark",
      "name": "云雀",
      "avatar_url": "https:///...jpg",
      "description": "",
      "created_at": "2016-09-06T23:44:00.000Z",
      "updated_at": "2016-09-06T23:44:00.000Z"
    },
    {
      "id": 2,
      "login": "foo",
      "name": "Foo",
      "avatar_url": "https://....jpg",
      "description": "",
      "created_at": "2016-09-06T23:44:00.000Z",
      "updated_at": "2016-09-06T23:44:00.000Z"
    }
  ]
} 
 ``` 



 ## 创建 Group 



 ``` rb 
 POST /groups 
 ``` 



 ### Parameters 

<table class="lake-table" style><colgroup><col width="250"><col width="250"><col width="250"></colgroup><tbody><tr><td><p>Name</p></td><td><p>Type</p></td><td><p>Description</p></td></tr><tr><td><p>name</p></td><td><p>string</p></td><td><p>组织名称</p></td></tr><tr><td><p>login</p></td><td><p>string</p></td><td><p>login</p></td></tr><tr><td><p>description</p></td><td><p>string</p></td><td><p>介绍</p></td></tr></tbody></table>

 ### Response 

<p><a href="UserSerializer" target="_blank">UserSerializer</a></p>

 ## 获取单个组织的详细信息 



 ``` rb 
 GET /groups/:login
# 或
GET /groups/:id 
 ``` 



 ### Response 

<p><a href="UserSerializer" target="_blank">UserSerializer</a></p><p>Example:</p>

 ``` json 
 {
	"abilities": {
		"read": false,
		"update": false,
		"destroy": false,
		"group_user": {
			"create": false,
			"update": false,
			"destroy": false
		},
		"repo": {
			"create": false,
			"update": false,
			"destroy": false
		}
	},
	"data": {
		"id": 37,
		"type": "Group",
		"login": "tech",
		"name": "技术讨论",
		"description": "This is a test Group",
    "avatar_url": "https://...jpg",
		"owner_id": 6,
		"created_at": "2016-08-21T18:08:48.000Z",
		"updated_at": "2016-12-15T04:35:46.000Z"
	}
} 
 ``` 



 ## 更新单个组织的详细信息 



 ``` rb 
 PUT /groups/:login
# 或
PUT /groups/:id 
 ``` 

<blockquote><p>需要 Group 的 <code>abilities.update</code> 权限。</p></blockquote>

 ### Parameters 

<table class="lake-table" style><colgroup><col width="250"><col width="250"><col width="250"></colgroup><tbody><tr><td><p>Name</p></td><td><p>Type</p></td><td><p>Description</p></td></tr><tr><td><p>name</p></td><td><p>string</p></td><td><p>组织名称</p></td></tr><tr><td><p>login</p></td><td><p>string</p></td><td><p>login</p></td></tr><tr><td><p>description</p></td><td><p>string</p></td><td><p>介绍</p></td></tr></tbody></table>

 ### Response 

<p><a href="UserSerializer" target="_blank">UserSerializer</a></p>

 ## 删除组织 



 ``` rb 
 DELETE /groups/:login
# 或
DELETE /groups/:id 
 ``` 

<blockquote><p>需要 Group 的 <code>abilities.destroy</code> 权限。</p></blockquote><p>此接口仅会删除 Group 基本信息，其他有关的仓库、文档、画板均保持不动，以避免误删除以后需要恢复。</p>

 ## 获取组织成员信息 



 ``` rb 
 GET /groups/:login/users
# 或
GET /groups/:id/users 
 ``` 

<blockquote><p>需要 <code>abilities.group.read</code> 权限</p></blockquote>

 ### Response 

<p>Array<<a href="GroupUserSerializer" target="_blank">GroupUserSerializer</a>></p>

 ``` json 
 {
  "data": [
    {
      "id": 20,
      "group_id": 5,
      "user_id": 1,
      "role": 0,
      "created_at": "2016-08-16T22:34:20.000Z",
      "updated_at": "2016-08-16T22:34:20.000Z",
      "user": {
        "id": 1,
        "login": "someone1",
        "name": "某某1",
        "avatar_url": "https://...jpg",
        "created_at": "2016-08-16T07:20:49.000Z",
        "updated_at": "2016-08-16T07:20:49.000Z"
      }
    },
    {
      "id": 161,
      "group_id": 5,
      "user_id": 3,
      "role": 1,
      "created_at": "2017-02-28T08:19:30.000Z",
      "updated_at": "2017-02-28T08:19:30.000Z",
      "user": {
        "id": 3,
        "login": "someone2",
        "name": "某某2",
        "avatar_url": "https://...jpg",
        "created_at": "2016-09-06T23:44:00.000Z",
        "updated_at": "2016-09-06T23:44:00.000Z"
      }
    }
  ]
} 
 ``` 



 ## 增加或更新组织成员 



 ``` rb 
 PUT /groups/:group_login/users/:login
# 或
PUT /groups/:group_id/users/:login 
 ``` 

<blockquote><p>需要 <code>abilities.group_user.read</code> 权限</p></blockquote>

 ### Parameters 

<table class="lake-table" style><colgroup><col width="250"><col width="250"><col width="250"></colgroup><tbody><tr><td><p>Name</p></td><td><p>Type</p></td><td><p>Description</p></td></tr><tr><td><p>role</p></td><td><p>Integer</p></td><td><p>0 - 管理员, 1 - 普通成员</p></td></tr></tbody></table><ul><li><p>需要有 <code>abilities.group_user.create</code> 权限</p></li></ul><ul><li><p>role 为 0 的时候，需要 <code>abilities.group_user.update</code> 权限</p></li></ul>

 ### Response 

<p><a href="GroupUserSerializer" target="_blank">GroupUserSerializer</a></p>

 ## 删除组织成员 



 ``` rb 
 DELETE /groups/:group_login/users/:login
# 或
DELETE /groups/:group_id/users/:login 
 ``` 

<blockquote><p>需要有 <code>abilities.group_user.destroy</code> 权限</p></blockquote><p>此外，不可以自己删除自己。</p><br><br><a class="yuque-link" target="_blank" href="https://www.yuque.com/yuque/developer/group"><svg viewBox="64 64 896 896" class="" data-icon="yuque" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M854.6 370.6c-9.9-39.4 9.9-102.2 73.4-124.4l-67.9-3.6s-25.7-90-143.6-98c-117.8-8.1-194.9-3-195-3 .1 0 87.4 55.6 52.4 154.7-25.6 52.5-65.8 95.6-108.8 144.7-1.3 1.3-2.5 2.6-3.5 3.7C319.4 605 96 860 96 860c245.9 64.4 410.7-6.3 508.2-91.1 20.5-.2 35.9-.3 46.3-.3 135.8 0 250.6-117.6 245.9-248.4-3.2-89.9-31.9-110.2-41.8-149.6zm-204.1 334c-10.6 0-26.2.1-46.8.3l-23.6.2-17.8 15.5c-47.1 41-104.4 71.5-171.4 87.6-52.5 12.6-110 16.2-172.7 9.6 18-20.5 36.5-41.6 55.4-63.1 92-104.6 173.8-197.5 236.9-268.5l1.4-1.4 1.3-1.5c4.1-4.6 20.6-23.3 24.7-28.1 9.7-11.1 17.3-19.9 24.5-28.6 30.7-36.7 52.2-67.8 69-102.2l1.6-3.3 1.2-3.4c13.7-38.8 15.4-76.9 6.2-112.8 22.5.7 46.5 1.9 71.7 3.6 33.3 2.3 55.5 12.9 71.1 29.2 5.8 6 10.2 12.5 13.4 18.7 1 2 1.7 3.6 2.3 5l5 17.7c-15.7 34.5-19.9 73.3-11.4 107.2 3 11.8 6.9 22.4 12.3 34.4 2.1 4.7 9.5 20.1 11 23.3 10.3 22.7 15.4 43 16.7 78.7 3.3 94.6-82.7 181.9-182 181.9z"></path></svg> 使用语雀查看</a>