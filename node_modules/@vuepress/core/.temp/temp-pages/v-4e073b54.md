# Overview 

 

 ## 基本路径 

<ul><li><p><code>https://www.yuque.com/api/v2</code></p></li></ul><blockquote><p>如果是获取企业空间下的数据，请用企业的二级域名，例如：<code>https://tmall.yuque.com/api/v2</code></p></blockquote>

 ## HTTP Verbs 

<table class="lake-table" style><colgroup><col width="375"><col width="375"></colgroup><tbody><tr><td><p>Verb</p></td><td><p>Description</p></td></tr><tr><td><p>GET</p></td><td><p>用于获取数据</p></td></tr><tr><td><p>POST</p></td><td><p>用于创建数据</p></td></tr><tr><td><p>PUT</p></td><td><p>用于修改部分数据，例如一个文档标题，正文</p></td></tr><tr><td><p>DELETE</p></td><td><p>用于删除数据</p></td></tr></tbody></table>

 ## HTTP 提交数据说明 

<p>当 <strong>POST</strong>, <strong>PUT</strong> 请求的时候，请确保 Request Content-Type 是 <code>application/json</code> 类型。</p>

 ``` json 
 req.Headers.Add("Content-Type", "application/json") 
 ``` 



 ## User-Agent Header 

<p>为了确保我们能知道访问者是谁，API 要求必须传递 <code>User-Agent</code> Header，否则将会拒绝请求。</p><p>例如:</p>

 ``` go 
 req.Headers.Add("User-Agent", "这里可以填应用名称") 
 ``` 



 ## 用户认证 

<p>语雀 API 目前使用 Token 机制来实现用户认证。</p><p>你需要在请求的 HTTP Headers 传入 <code>X-Auth-Token</code> 带入用户的 Token 信息，用于认证。</p><p>获取 Token 可通过点击语雀的个人头像，并进入 <a href="/settings" target="_blank">个人设置</a> 页面拿到，如下图：</p><p><img alt="image.png" title="image.png" src="https://cdn.nlark.com/yuque/0/2019/png/84145/1556263208113-272c18c0-2608-48b5-81b0-141b49ef432f.png#align=left&display=inline&height=370&name=image.png&originHeight=740&originWidth=2154&size=186190&status=done&width=1077" style="max-width: 600px; width: 1077px;"></p><blockquote><p>TIP💡: 别忘了，假如需要获取的数据是“公开”的，那是不需要用户认证的哦！</p></blockquote><p><strong>For example</strong></p>

 ``` bash 
 curl -H "X-Auth-Token: gCmkIlgAtuc3vFwpLfeM1w==" https://www.yuque.com/api/v2/hello 
 ``` 

<p><strong>Response</strong></p>

 ``` json 
 {
  "data":{
    "message":"Hello 小明"
  }
} 
 ``` 

<p><code>X-Auth-Token</code> 依据用户有的权限，决定了能获取到的数据，例如，假如 “小明” 这个账号是 “<a href="/yuque/help" target="_blank">语雀/帮助</a>” 这个文档仓库的 <code>Owner</code>，那么通过他的 Token 可以获取到这个仓库的所有信息。</p><p>其他情况由具体的功能权限设定来决定能获取到什么样的数据，以及那些数据有修改权限，详见后面 API 的具体接口返回的 <code>abilities</code> 描述。</p>

 ## HTTP 状态码 

<ul><li><p>200 - 成功</p></li></ul><ul><li><p>400 - 请求的参数不正确，或缺少必要信息，请对比文档</p></li></ul><ul><li><p>401 - 需要用户认证的接口用户信息不正确</p></li></ul><ul><li><p>403 - 缺少对应功能的权限</p></li></ul><ul><li><p>404 - 数据不存在，或未开放</p></li></ul><ul><li><p>500 - 服务器异常</p></li></ul>

 ## 参数说明 

<table class="lake-table" style><colgroup><col width="170"><col width="248"><col width="432"></colgroup><tbody><tr><td><p>Name</p></td><td><p>Description</p></td><td><p>Example</p></td></tr><tr><td><p>id</p></td><td><p>数据的唯一编号/主键</p></td><td><p>1984</p></td></tr><tr><td><p>login</p></td><td><p>用户／团队的唯一名称</p><p>用户／团队编号</p></td><td><p>用户：用户个人路径</p><p>团队：如<a href="/yuque" target="_blank">语雀团队</a>，login 值为 <code>yuque</code></p></td></tr><tr><td><p>book_slug</p></td><td><p>仓库唯一名称</p></td><td><p>如<a href="/yuque/developer" target="_blank">语雀开发者文档</a>这个仓库，<code>book_slug</code> 值为 <code>developer</code><strong> </strong></p></td></tr><tr><td><p>namespace</p></td><td><p>仓库的唯一名称</p><p>需要组合 <code>:login/:book_slug</code></p><p>或可以直接使用仓库编号</p></td><td><p><code>yuque/developer</code></p></td></tr><tr><td><p>slug</p></td><td><p>文档唯一名称</p></td><td><p>如<a href="/yuque/developer/api" target="_blank">当前这篇文档</a>的 slug 值为   <code>api</code></p></td></tr></tbody></table>

 ## 返回数据格式 

<ul><li><p>JSON 格式</p></li></ul>

 ``` json 
 {
  "data": {
    "id": 10,
    "slug": "weekly",
    "name": "技术周刊",
    "abilities": {
      "update": false,
      "destroy": false
    }
  },
  "meta": {
    "liked": false,
    "followed": false,
  }
} 
 ``` 

<ul><li><p>id: 每个数据都会有的，Resource 的唯一编号，后续很多地方你可能需要用它查询</p></li></ul><ul><li><p>abilities: 表述当前登陆者对于此资源的权限</p></li></ul><ul><li><p>meta: 一些附加信息，例如是否赞过，是否关注过</p></li></ul>

 ## Rate Limit 访问频率限制 

<ul><li><p>匿名请求，IP 限制, 200 次/小时</p></li></ul><ul><li><p>传递 Token 的情况下，每个用户（基于 Token 关联到的账户），5000 次/小时；</p></li></ul><p>每次请求 <code>Response Header</code> 将会返回频率限制的信息，例如：</p>

 ``` undefined 
 X-RateLimit-Limit: 100
X-RateLimit-Remaining: 75 
 ``` 

<ul><li><p><code>X-RateLimit-Limit</code> - 总次数</p></li></ul><ul><li><p><code>X-RateLimit-Remaining</code> - 剩余次数</p></li></ul><p>如果超过限制，将会返回:</p>

 ``` undefined 
 HTTP/1.1 429 Too Many Requests 
 ``` 



 ## DateTime 格式 

<p>DateTime 使用 <a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank">ISO 8601</a> 标准格式，请按照标准方式进行转换。</p><br><br><a class="yuque-link" target="_blank" href="https://www.yuque.com/yuque/developer/api"><svg viewBox="64 64 896 896" class="" data-icon="yuque" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M854.6 370.6c-9.9-39.4 9.9-102.2 73.4-124.4l-67.9-3.6s-25.7-90-143.6-98c-117.8-8.1-194.9-3-195-3 .1 0 87.4 55.6 52.4 154.7-25.6 52.5-65.8 95.6-108.8 144.7-1.3 1.3-2.5 2.6-3.5 3.7C319.4 605 96 860 96 860c245.9 64.4 410.7-6.3 508.2-91.1 20.5-.2 35.9-.3 46.3-.3 135.8 0 250.6-117.6 245.9-248.4-3.2-89.9-31.9-110.2-41.8-149.6zm-204.1 334c-10.6 0-26.2.1-46.8.3l-23.6.2-17.8 15.5c-47.1 41-104.4 71.5-171.4 87.6-52.5 12.6-110 16.2-172.7 9.6 18-20.5 36.5-41.6 55.4-63.1 92-104.6 173.8-197.5 236.9-268.5l1.4-1.4 1.3-1.5c4.1-4.6 20.6-23.3 24.7-28.1 9.7-11.1 17.3-19.9 24.5-28.6 30.7-36.7 52.2-67.8 69-102.2l1.6-3.3 1.2-3.4c13.7-38.8 15.4-76.9 6.2-112.8 22.5.7 46.5 1.9 71.7 3.6 33.3 2.3 55.5 12.9 71.1 29.2 5.8 6 10.2 12.5 13.4 18.7 1 2 1.7 3.6 2.3 5l5 17.7c-15.7 34.5-19.9 73.3-11.4 107.2 3 11.8 6.9 22.4 12.3 34.4 2.1 4.7 9.5 20.1 11 23.3 10.3 22.7 15.4 43 16.7 78.7 3.3 94.6-82.7 181.9-182 181.9z"></path></svg> 使用语雀查看</a>