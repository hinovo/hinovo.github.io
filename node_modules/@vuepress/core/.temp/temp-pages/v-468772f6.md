# Doc - 文档 

 

 ## 获取一个仓库的文档列表 



 ``` rb 
 GET /repos/:namespace/docs
# 或
GET /repos/:id/docs 
 ``` 

<blockquote><p>需要 Repo 的 <code>abilities.read</code> 权限</p></blockquote><p>如果是 Group 成员，将能获取到私密文档、未发布的草稿。</p>

 ### Response 

<p>Array<<a href="DocSerializer" target="_blank">DocSerializer</a>></p><p>Example:</p>

 ``` json 
 {
  "data": [
    {
      "id": 100,
      "title": "快速开始",
      "slug": "get-stared",
      "status": 1,
      "public": 1,
      "created_at": "2016-09-06T23:44:00.000Z",
      "updated_at": "2016-09-06T23:44:00.000Z"
    }
  ]
} 
 ``` 



 ## 获取单篇文档的详细信息 



 ``` rb 
 GET /repos/:namespace/docs/:slug
# 或
GET /repos/:repo_id/docs/:id 
 ``` 



 ### Parameters 

<table class="lake-table" style><colgroup><col width="90"><col width="379"></colgroup><tbody><tr><td><p>Key</p></td><td><p>Description</p></td></tr><tr><td><p>raw</p></td><td><p>raw=1 返回文档最原始的格式</p></td></tr></tbody></table>

 ### Response 

<p><a href="DocDetailSerializer" target="_blank">DocDetailSerializer</a></p>

 ``` json 
 {
  "data": {
    DocDetailSerializer
  },
  "abilities": {
    "update": true,
    "destroy": false,
  }
} 
 ``` 



 ## 创建文档 



 ``` rb 
 POST /repos/:namespace/docs
# 或
POST /repos/:id/docs 
 ``` 

<blockquote><p>需要 Repo 的 <code>abilities.doc.create</code> 权限</p></blockquote>

 ### Parameters 

<table class="lake-table" style><colgroup><col width="90"><col width="406"></colgroup><tbody><tr><td><p>Key</p></td><td><p>Description</p></td></tr><tr><td><p>title</p></td><td><p>标题</p></td></tr><tr><td><p>slug</p></td><td><p>文档 Slug</p></td></tr><tr><td><p>public</p></td><td><p>0 - 私密，1 - 公开</p></td></tr><tr><td colspan="1" style="background-color: #FFFFFF;"><p>format</p></td><td colspan="1" style="background-color: #FFFFFF;"><p>支持 markdown 和 lake，默认为 markdown</p></td></tr><tr><td><p>body</p></td><td><p>format 描述的正文内容，最大允许 5MB</p></td></tr></tbody></table>

 ### Response 

<p><a href="DocDetailSerializer" target="_blank">DocDetailSerializer</a></p>

 ``` json 
 {
  "data": {
    DocDetailSerializer
  }
} 
 ``` 



 ## 更新文档 



 ``` rb 
 PUT /repos/:namespace/docs/:id
# 或
PUT /repos/:repo_id/docs/:id 
 ``` 

<blockquote><p>需要 Doc 的 <code>abilities.update</code> 权限</p></blockquote><p>注意! 这里最后个参数是 <code>id</code> （文档编号）而不是 <code>slug</code>，原因是为了避免 slug 改变无法正确保存。</p>

 ### Parameters 

<table class="lake-table" style><colgroup><col width="90"><col width="289"></colgroup><tbody><tr><td><p>Key</p></td><td><p>Description</p></td></tr><tr><td><p>title</p></td><td><p>标题</p></td></tr><tr><td><p>slug</p></td><td><p>文档 Slug</p></td></tr><tr><td><p>public</p></td><td><p>0 - 私密</p><p>1 - 公开</p></td></tr><tr><td><p>body</p></td><td><p>已发布的正文 Markdown</p></td></tr></tbody></table>

 ### Response 

<p><a href="DocDetailSerializer" target="_blank">DocDetailSerializer</a></p>

 ``` json 
 {
  "data": {
    DocDetailSerializer
  }
} 
 ``` 



 ## 删除文档 



 ``` rb 
 DELETE /repos/:namespace/docs/:id
# 或
DELETE /repos/:repo_id/docs/:id 
 ``` 

<blockquote><p>需要 Doc 的 <code>abilities.destroy</code> 权限</p></blockquote>

 ### Response 

<p><a href="DocDetailSerializer" target="_blank">DocDetailSerializer</a></p><br><br><a class="yuque-link" target="_blank" href="https://www.yuque.com/yuque/developer/doc"><svg viewBox="64 64 896 896" class="" data-icon="yuque" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M854.6 370.6c-9.9-39.4 9.9-102.2 73.4-124.4l-67.9-3.6s-25.7-90-143.6-98c-117.8-8.1-194.9-3-195-3 .1 0 87.4 55.6 52.4 154.7-25.6 52.5-65.8 95.6-108.8 144.7-1.3 1.3-2.5 2.6-3.5 3.7C319.4 605 96 860 96 860c245.9 64.4 410.7-6.3 508.2-91.1 20.5-.2 35.9-.3 46.3-.3 135.8 0 250.6-117.6 245.9-248.4-3.2-89.9-31.9-110.2-41.8-149.6zm-204.1 334c-10.6 0-26.2.1-46.8.3l-23.6.2-17.8 15.5c-47.1 41-104.4 71.5-171.4 87.6-52.5 12.6-110 16.2-172.7 9.6 18-20.5 36.5-41.6 55.4-63.1 92-104.6 173.8-197.5 236.9-268.5l1.4-1.4 1.3-1.5c4.1-4.6 20.6-23.3 24.7-28.1 9.7-11.1 17.3-19.9 24.5-28.6 30.7-36.7 52.2-67.8 69-102.2l1.6-3.3 1.2-3.4c13.7-38.8 15.4-76.9 6.2-112.8 22.5.7 46.5 1.9 71.7 3.6 33.3 2.3 55.5 12.9 71.1 29.2 5.8 6 10.2 12.5 13.4 18.7 1 2 1.7 3.6 2.3 5l5 17.7c-15.7 34.5-19.9 73.3-11.4 107.2 3 11.8 6.9 22.4 12.3 34.4 2.1 4.7 9.5 20.1 11 23.3 10.3 22.7 15.4 43 16.7 78.7 3.3 94.6-82.7 181.9-182 181.9z"></path></svg> 使用语雀查看</a>